const dbPromise=idb.open("restaurants",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore("restaurants")}}),idbKeyval={get:(t,e)=>dbPromise.then(e=>e.transaction("restaurants").objectStore("restaurants").get(t)),set:(t,e)=>dbPromise.then(r=>{const s=r.transaction("restaurants","readwrite");return s.objectStore("restaurants").put(e,t),s.complete}),delete:t=>dbPromise.then(e=>{const r=e.transaction("restaurants","readwrite");return r.objectStore("restaurants").delete(t),r.complete}),clear:()=>dbPromise.then(t=>{const e=t.transaction("restaurants","readwrite");return e.objectStore("restaurants").clear(),e.complete}),keys:()=>dbPromise.then(t=>{const e=t.transaction("restaurants"),r=[],s=e.objectStore("restaurants");return(s.iterateKeyCursor||s.iterateCursor).call(s,t=>{t&&(r.push(t.key),t.continue())}),e.complete.then(()=>r)})};